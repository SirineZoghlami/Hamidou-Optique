<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin - Hamidou Optique</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
 
</head>
<body class="font-sans bg-gray-100">
  <!-- Navigation (now above login overlay) -->
  <nav class="bg-white shadow-lg fixed w-full z-50"> <!-- Increased z-index to 50 -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <div class="flex items-center">
          <h1 class="text-2xl font-bold text-blue-600">Hamidou Optique</h1>
        </div>
        <div class="hidden md:flex items-center space-x-8">
          <a href="index.html#home" class="text-gray-700 hover:text-blue-600">Accueil</a>
          <a href="index.html#services" class="text-gray-700 hover:text-blue-600">Services</a>
          <div class="relative group">
            <a href="index.html#products" class="text-gray-700 hover:text-blue-600">Produits</a>
            <div class="absolute hidden bg-white shadow-lg rounded-md">
              <a href="homme.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Homme</a>
              <a href="femme.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Femme</a>
              <a href="enfant.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Enfant</a>
            </div>
          </div>
          <a href="index.html#about" class="text-gray-700 hover:text-blue-600">À propos</a>
          <a href="index.html#contact" class="text-gray-700 hover:text-blue-600">Contact</a>
          <div class="relative group">
            <a href="admin.html" class="text-gray-700 hover:text-blue-600">Admin</a>
            <div id="admin-dropdown" class="absolute hidden bg-white shadow-lg rounded-md right-0 w-40">
              <a id="admin-login-logout" href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Connexion</a>
            </div>
          </div>
        </div>
        <div class="md:hidden flex items-center">
          <button id="menu-toggle" class="text-gray-700 focus:outline-none">
            <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <!-- Menu mobile -->
    <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg">
      <div class="px-4 pt-2 pb-3 space-y-1">
        <a href="index.html#home" class="block text-gray-700 hover:text-blue-600">Accueil</a>
        <a href="index.html#services" class="block text-gray-700 hover:text-blue-600">Services</a>
        <a href="index.html#products" class="block text-gray-700 hover:text-blue-600">Produits</a>
        <a href="homme.html" class="block pl-4 text-gray-700 hover:text-blue-600">Homme</a>
        <a href="femme.html" class="block pl-4 text-gray-700 hover:text-blue-600">Femme</a>
        <a href="enfant.html" class="block pl-4 text-gray-700 hover:text-blue-600">Enfant</a>
        <a href="index.html#about" class="block text-gray-700 hover:text-blue-600">À propos</a>
        <a href="index.html#contact" class="block text-gray-700 hover:text-blue-600">Contact</a>
        <a href="admin.html" class="block text-gray-700 hover:text-blue-600">Admin</a>
        <a id="mobile-admin-login-logout" href="#" class="block text-gray-700 hover:text-blue-600">Connexion</a>
      </div>
    </div>
  </nav>

  <!-- Login Overlay (now below navigation) -->
  <div id="login-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
    <div id="login-box" class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
      <h2 class="text-2xl font-bold text-center mb-6">Admin Login</h2>
      <form id="login-form">
        <div class="mb-4">
          <label class="block text-gray-700 mb-2">Username</label>
          <input type="text" id="username" class="w-full px-3 py-2 border rounded" required>
        </div>
        <div class="mb-6">
          <label class="block text-gray-700 mb-2">Password</label>
          <input type="password" id="password" class="w-full px-3 py-2 border rounded" required>
        </div>
        <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
          Login
        </button>
      </form>
      <p id="login-error" class="text-red-500 mt-3 text-center hidden">Invalid credentials</p>
    </div>
  </div>

  <!-- Admin Section (hidden by default) -->
  <section id="admin-section" class="py-16 bg-gray-100 pt-24 hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Gestion des Lunettes</h2>
      <!-- Form for adding glasses -->
      <form id="glasses-form" class="mb-12 bg-white p-6 rounded-lg shadow-lg">
        <h3 class="text-xl font-semibold mb-4">Ajouter une nouvelle paire</h3>
        <div class="mb-4">
          <label for="name" class="block text-gray-700 font-medium">Nom</label>
          <input type="text" id="name" class="border rounded-lg p-2 w-full" required>
        </div>
        <div class="mb-4">
          <label for="brand" class="block text-gray-700 font-medium">Marque</label>
          <input type="text" id="brand" class="border rounded-lg p-2 w-full" required>
        </div>
        <div class="mb-4">
          <label for="price" class="block text-gray-700 font-medium">Prix (TND)</label>
          <input type="number" id="price" step="0.01" class="border rounded-lg p-2 w-full" required>
        </div>
        <div class="mb-4">
          <label for="image" class="block text-gray-700 font-medium">Image</label>
          <input type="file" id="image" accept="image/*" class="border rounded-lg p-2 w-full">
        </div>
        <div class="mb-4">
          <label for="category" class="block text-gray-700 font-medium">Catégorie</label>
          <select id="category" class="border rounded-lg p-2 w-full" required>
            <option value="Homme">Homme</option>
            <option value="Femme">Femme</option>
            <option value="Enfant">Enfant</option>
          </select>
        </div>
        <div class="flex justify-end space-x-4">
          <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700">Enregistrer</button>
          <button type="button" id="reset-form" class="bg-gray-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-gray-700">Réinitialiser</button>
        </div>
      </form>
      <!-- Modal for editing glasses -->
      <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg shadow-lg max-w-md w-full">
          <h3 class="text-xl font-semibold mb-4">Modifier la paire</h3>
          <form id="edit-glasses-form">
            <input type="hidden" id="edit-glass-id">
            <div class="mb-4">
              <label for="edit-name" class="block text-gray-700 font-medium">Nom</label>
              <input type="text" id="edit-name" class="border rounded-lg p-2 w-full" required>
            </div>
            <div class="mb-4">
              <label for="edit-brand" class="block text-gray-700 font-medium">Marque</label>
              <input type="text" id="edit-brand" class="border rounded-lg p-2 w-full" required>
            </div>
            <div class="mb-4">
              <label for="edit-price" class="block text-gray-700 font-medium">Prix (TND)</label>
              <input type="number" id="edit-price" step="0.01" class="border rounded-lg p-2 w-full" required>
            </div>
            <div class="mb-4">
              <label for="edit-image" class="block text-gray-700 font-medium">Image</label>
              <input type="file" id="edit-image" accept="image/*" class="border rounded-lg p-2 w-full">
            </div>
            <div class="mb-4">
              <label for="edit-category" class="block text-gray-700 font-medium">Catégorie</label>
              <select id="edit-category" class="border rounded-lg p-2 w-full" required>
                <option value="Homme">Homme</option>
                <option value="Femme">Femme</option>
                <option value="Enfant">Enfant</option>
              </select>
            </div>
            <div class="flex justify-end space-x-4">
              <button type="button" id="close-edit-modal" class="bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-gray-700">Annuler</button>
              <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700">Enregistrer</button>
            </div>
          </form>
        </div>
      </div>
      <!-- Custom popup for messages and confirmations -->
      <div id="custom-popup" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full">
          <h3 id="popup-title" class="text-lg font-semibold mb-4"></h3>
          <p id="popup-message" class="text-gray-700 mb-4"></p>
          <div id="popup-buttons" class="flex justify-end space-x-4">
            <!-- Buttons will be dynamically added -->
          </div>
        </div>
      </div>
      <!-- List of glasses -->
      <div id="admin-glasses-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
        <!-- Glasses will be populated by JavaScript -->
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer id="contact" class="bg-blue-600 text-white py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div>
          <h3 class="text-lg font-semibold mb-4">Contact</h3>
          <p>Email : contact@hamidouoptique.fr</p>
          <p>Téléphone : 01 23 45 67 89</p>
          <p>Adresse : 123 Rue de la Vue, 75001 Paris</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold mb-4">Horaires</h3>
          <p>Lundi - Samedi : 9h - 19h</p>
          <p>Dimanche : Fermé</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold mb-4">Suivez-nous</h3>
          <p>Facebook | Instagram</p>
        </div>
      </div>
      <p class="text-center mt-8">© 2025 Hamidou Optique. Tous droits réservés.</p>
    </div>
  </footer>

  <script>
    // Login functionality
    document.addEventListener('DOMContentLoaded', function() {
      const loginForm = document.getElementById('login-form');
      const loginOverlay = document.getElementById('login-overlay');
      const loginError = document.getElementById('login-error');
      const adminSection = document.getElementById('admin-section');
      const adminLoginLogout = document.getElementById('admin-login-logout');
      const mobileAdminLoginLogout = document.getElementById('mobile-admin-login-logout');
      const adminDropdown = document.getElementById('admin-dropdown');
      
      // Check if already logged in (using sessionStorage)
      function checkLoginStatus() {
        if (sessionStorage.getItem('adminLoggedIn') === 'true') {
          loginOverlay.classList.add('hidden');
          adminSection.classList.remove('hidden');
          adminLoginLogout.textContent = 'Déconnexion';
          mobileAdminLoginLogout.textContent = 'Déconnexion';
        } else {
          loginOverlay.classList.remove('hidden');
          adminSection.classList.add('hidden');
          adminLoginLogout.textContent = 'Connexion';
          mobileAdminLoginLogout.textContent = 'Connexion';
        }
      }
      
      // Initial check
      checkLoginStatus();
      
      // Handle login form submission
      loginForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        
        // Check credentials (admin/admin)
        if (username === 'admin' && password === 'admin') {
          // Store login state
          sessionStorage.setItem('adminLoggedIn', 'true');
          // Update UI
          checkLoginStatus();
          // Hide error if shown
          loginError.classList.add('hidden');
        } else {
          // Show error
          loginError.classList.remove('hidden');
        }
      });
      
      // Handle logout
      function handleLogout() {
        sessionStorage.removeItem('adminLoggedIn');
        checkLoginStatus();
        // Show login overlay
        loginOverlay.classList.remove('hidden');
      }
      
      // Add event listeners for logout
      adminLoginLogout.addEventListener('click', function(e) {
        e.preventDefault();
        if (sessionStorage.getItem('adminLoggedIn') === 'true') {
          handleLogout();
        } else {
          loginOverlay.classList.remove('hidden');
        }
      });
      
      mobileAdminLoginLogout.addEventListener('click', function(e) {
        e.preventDefault();
        if (sessionStorage.getItem('adminLoggedIn') === 'true') {
          handleLogout();
        } else {
          loginOverlay.classList.remove('hidden');
        }
      });
      
      // Show/hide dropdown on hover
      const adminLink = document.querySelector('.group a[href="admin.html"]').parentElement;
      adminLink.addEventListener('mouseenter', function() {
        adminDropdown.classList.remove('hidden');
      });
      adminLink.addEventListener('mouseleave', function() {
        adminDropdown.classList.add('hidden');
      });
      
      // Mobile menu toggle
      const menuToggle = document.getElementById('menu-toggle');
      const mobileMenu = document.getElementById('mobile-menu');
      menuToggle.addEventListener('click', function() {
        mobileMenu.classList.toggle('hidden');
      });
      
      // Rest of your existing JavaScript
      // ...
    });
  </script>
  <script src="script.js"></script>
</body>
</html>